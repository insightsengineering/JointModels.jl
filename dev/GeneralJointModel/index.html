<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>General Joint Model · JointModels</title><meta name="title" content="General Joint Model · JointModels"/><meta property="og:title" content="General Joint Model · JointModels"/><meta property="twitter:title" content="General Joint Model · JointModels"/><meta name="description" content="Documentation for JointModels."/><meta property="og:description" content="Documentation for JointModels."/><meta property="twitter:description" content="Documentation for JointModels."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JointModels</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">JointModels.jl</a></li><li class="is-active"><a class="tocitem" href>General Joint Model</a></li><li><a class="tocitem" href="../HazardBasedDistribution/">Hazard Based Distributions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>General Joint Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>General Joint Model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/insightsengineering/jointmodels.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/insightsengineering/jointmodels.jl/blob/main/docs/src/GeneralJointModel.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="General-Joint-Model"><a class="docs-heading-anchor" href="#General-Joint-Model">General Joint Model</a><a id="General-Joint-Model-1"></a><a class="docs-heading-anchor-permalink" href="#General-Joint-Model" title="Permalink"></a></h1><p>This struct implements a general family of joint models. Let <span>$h_0:\mathbb{R} \to\mathbb{R}}_{+}$</span> be a baseline hazard function. Suppose we have <span>$k\in \mathbb{N}$</span> longitudinal models <span>$\{m_{1},\dots, m_{k}\}\subset \{\text{Functions: }\mathbb{R}\to\mathbb{R}\}$</span> as well as <span>$k$</span> links <span>$\{l_{1},\dots, l_{k}\}\subset \{\text{Operators on functions: }\mathbb{R}\to\mathbb{R}\}$</span>. Let <span>$M: \mathbb{R} \to \mathbb{R}^k$</span> and <span>$L:\mathbb{R}^k \to \mathbb{R}^k$</span> be the multidimensional vector versions</p><p class="math-container">\[\begin{align*}
    M(t) \mapsto \begin{pmatrix}
    m_{1}(t) \\ m_{2}(t) \\ \dots \\ m_{k}(t)
\end{pmatrix} \text{, }
    L\begin{pmatrix}
    \mu_1 \\ \mu_2 \\ \dots \\ \mu_k
\end{pmatrix} \mapsto \begin{pmatrix}
    l_1(\mu_1) \\ l_2(\mu_2) \\ \dots \\ l_k(\mu_k)
\end{pmatrix} \text{ and } L(M(t)) =\begin{pmatrix}
    l_1(m_{1}(t)) \\ l_2(m_{2}(t)) \\ \dots \\ l_k(m_{k}(t))
\end{pmatrix}.
\end{align*}\]</p><p>In code <span>$L(M(t))$</span> corresponds to an array of unary functions (one argument). You are responsible for choosing the longitudinal model and link and finally the application of the link to the longitudinal model. For the link model vector <span>$L(M(t))$</span> we consider a coefficient vector <span>$b \in \mathbb{R}^k$</span>. Then we can formulate a hazard as follows</p><p class="math-container">\[h(t) = h_0(t) \exp\left(\sum_{j\in [k]}b_{j} l_j(m_{j}(t))  \right) = h_0(t) \exp(b&#39; \cdot L(M(t))).\]</p><p>Additionally we consider covariates <span>$x\in \mathbb{R}^l, l\in\mathbb{N}$</span> and coefficients <span>$\beta \in \mathbb{R}^l$</span>. This results in the hazard</p><p class="math-container">\[\begin{align*}
h(t) &amp;= h_0(t) \exp\left(b&#39; \cdot L(M(t)) + \beta&#39; \cdot x\right)\\
     &amp;= h_0(t) \exp\left(\sum_{j\in [k]}b_{j} l_j(m_{j}(t)) + \sum_{j\in [l]} x_j  \beta_j  \right),
\end{align*}\]</p><p>which is implemented in the general joint model:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JointModels.GeneralJointModel" href="#JointModels.GeneralJointModel"><code>JointModels.GeneralJointModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GeneralJointModel &lt;: HazardBasedDistribution &lt;: ContinuousUnivariateDistribution</code></pre><p><code>GeneralJointModel</code> is based on the hazard formulation:</p><p><span>$h_i(t) = h_0(t) \exp\left(b&#39; \cdot L(M_i (t)) + \beta&#39; \cdot x \right),$</span></p><p>where <span>$h_0: \mathbb{R} \to \mathbb{R}_{+}$</span> is the baseline hazard function. The term <span>$L(M(t)): \mathbb{R} \to \mathbb{R}^k, k\in\mathbb{N}$</span> represents the link to the longitudinal model(s)  and <span>$b\in\mathbb{R}^k$</span> are the link coefficients. Lastly <span>$x \in\mathbb{R}^l, l\in\mathbb{N}$</span> the covariates with coefficients <span>$\beta\in\mathbb{R}^l$</span>.</p><p><strong>Fields:</strong></p><ul><li><code>h₀::Function</code>: a positive valued function in time representing the baseline hazard</li><li><code>b::Vector{Real}</code>: coefficients for links to longitudinal models, should have the same length as <code>link_m</code></li><li><code>link_m::Vector{Function}</code>: unary functions (one argument) in time representing the link to a single or multiple longitudinal models</li><li><code>β::Vector{Real}</code>: coefficients for covariates, should have the same length as <code>x</code></li><li><code>x::Vector{Real}</code>: covariates</li></ul><p><strong>Example</strong></p><p>There are constructors for calling <code>GeneralJointModel</code> without covariates and for single longitudinal models without the need for arrays. For example:</p><pre><code class="nohighlight hljs">using JointModels

GeneralJointModel(identity, 0.01, identity, 0.02, 3)
# corresponds to hazard: identity(t) * exp(0.01 * identity(t) +  0.02 * 3) 
GeneralJointModel(identity, 0.01, identity)
# corresponds to hazard: identity(t) * exp(0.01 * identity(t))
GeneralJointModel(identity,
                    [0.01,-0.02,0.03],
                    [x -&gt; sqrt(x), x -&gt; sin(x)+1, x -&gt; cos(x)^2],
                    [2, 0.3],
                    [ 0, sqrt(2)])
# corresponds to hazard: identity(t) * exp(0.01 * sqrt(t) - 0.02 * (sin(t)+1) + 0.03 * cos(t)^2  + 2 * 0 + 0.3 * sqrt(2))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/insightsengineering/jointmodels.jl/blob/6dcee95f4370b315ddfdce93314b5dcf40f88dde/src/jointmodel.jl#L1-L35">source</a></section></article><p>Its hazard is calculated by:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JointModels.hazard-Tuple{GeneralJointModel, Real}" href="#JointModels.hazard-Tuple{GeneralJointModel, Real}"><code>JointModels.hazard</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The <code>hazard</code> for <code>GeneralJointModel</code> calculates the hazard according to the formulation <span>$h(t) = h_0(t) \exp\left(b&#39; \cdot L(M(t)) + \beta&#39; \cdot x \right)$</span> described in the documentation of <code>GeneralJointModel</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/insightsengineering/jointmodels.jl/blob/6dcee95f4370b315ddfdce93314b5dcf40f88dde/src/jointmodel.jl#L61-L65">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« JointModels.jl</a><a class="docs-footer-nextpage" href="../HazardBasedDistribution/">Hazard Based Distributions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 19 January 2024 16:19">Friday 19 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
